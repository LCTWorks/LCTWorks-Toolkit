<ContentDialog x:Class="LCTWorks.WinUI.Controls.ContentDialogs.ItemsContentDialog"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
               xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
               xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
               xmlns:internal="using:LCTWorks.WinUI.Controls.Internal"
               xmlns:local="using:LCTWorks.WinUI.Controls.ContentDialogs"
               xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
               xmlns:models="using:LCTWorks.WinUI.Models"
               Style="{StaticResource SmoothContentDialogStyle}"
               mc:Ignorable="d">

    <ContentDialog.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ms-appx:///LCTWorks.WinUI/Themes/Generic.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <x:Double x:Key="ContentDialogMaxWidth">480</x:Double>
            <x:Double x:Key="ContentDialogMaxHeight">920</x:Double>
            <Thickness x:Key="SmoothContentDialogCommandsPadding">32,24,32,32</Thickness>
            <Thickness x:Key="ContentDialogPadding">0</Thickness>
            <Thickness x:Key="ContentDialogTitleMargin">32,32,32,0</Thickness>
            <Thickness x:Key="ItemsContentDialogLayoutMargin">16,0</Thickness>
            <Thickness x:Key="ItemsContentDialogItemPadding">16,8</Thickness>
            <internal:ItemsContentDialogItemDataTemplateSelector x:Key="ItemsContentDialogItemSelector"
                                                                 InteractiveTemplate="{StaticResource InteractiveItemsContentDialogItemItemDataTemplate}"
                                                                 NonInteractiveTemplate="{StaticResource ItemsContentDialogItemItemDataTemplate}" />
            <DataTemplate x:Key="ItemsContentDialogItemItemDataTemplate"
                          x:DataType="models:ItemsContentDialogItem">
                <Grid Margin="0,4"
                      Padding="{StaticResource ItemsContentDialogItemPadding}"
                      ColumnSpacing="16"
                      RowSpacing="0">
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <TextBlock x:Name="FluentGlyphTextBlock"
                               Grid.RowSpan="2"
                               x:Load="{x:Bind IsFluentIcon, Mode=OneWay}"
                               Style="{StaticResource FluentIconsTextBlockStyle}"
                               Text="{x:Bind IconUri, Mode=OneWay}" />
                    <TextBlock x:Name="MaterialGlyphTextBlock"
                               Grid.RowSpan="2"
                               x:Load="{x:Bind IsMaterialSymbol, Mode=OneWay}"
                               FontSize="{StaticResource FluentIconsTextBlockFontSize}"
                               Style="{StaticResource MaterialSymbolsTextBlockStyle}"
                               Text="{x:Bind IconUri, Mode=OneWay}" />
                    <TextBlock x:Name="FontAwesomeBrandsGlyphTextBlock"
                               Grid.RowSpan="2"
                               x:Load="{x:Bind IsFontAwesomeBrand, Mode=OneWay}"
                               FontSize="{StaticResource FluentIconsTextBlockFontSize}"
                               Style="{StaticResource FontAwesomeBrandsTextBlockStyle}"
                               Text="{x:Bind IconUri, Mode=OneWay}" />
                    <Image x:Name="IconImage"
                           Grid.RowSpan="2"
                           Width="24"
                           Height="24"
                           x:Load="{x:Bind IsImage, Mode=OneWay}"
                           Source="{x:Bind IconUri, Mode=OneWay}" />
                    <TextBlock Grid.Column="1"
                               HorizontalAlignment="Left"
                               Style="{StaticResource SmoothItemTitleTextBlockStyle}"
                               Text="{x:Bind Title, Mode=OneWay}" />
                    <TextBlock Grid.Row="1"
                               Grid.Column="1"
                               Style="{StaticResource SmoothCaptionTextBlockStyle}"
                               Text="{x:Bind Description, Mode=OneWay}" />
                </Grid>
            </DataTemplate>
            <DataTemplate x:Key="InteractiveItemsContentDialogItemItemDataTemplate"
                          x:DataType="models:ItemsContentDialogItem">
                <Button Margin="0,4"
                        Padding="0"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        Command="{x:Bind Command}"
                        CommandParameter="{x:Bind CommandParameter}"
                        PointerEntered="OnPointerEntered"
                        PointerExited="OnPointerExited"
                        Style="{StaticResource SmoothTransparentButtonStyle}"
                        Tapped="ItemCommandTapped">
                    <Grid Padding="{StaticResource ItemsContentDialogItemPadding}"
                          ColumnSpacing="16"
                          RowSpacing="0">
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock x:Name="FluentGlyphTextBlock"
                                   Grid.RowSpan="2"
                                   x:Load="{x:Bind IsFluentIcon, Mode=OneWay}"
                                   Style="{StaticResource FluentIconsTextBlockStyle}"
                                   Text="{x:Bind IconUri, Mode=OneWay}" />
                        <TextBlock x:Name="MaterialGlyphTextBlock"
                                   Grid.RowSpan="2"
                                   x:Load="{x:Bind IsMaterialSymbol, Mode=OneWay}"
                                   FontSize="{StaticResource FluentIconsTextBlockFontSize}"
                                   Style="{StaticResource MaterialSymbolsTextBlockStyle}"
                                   Text="{x:Bind IconUri, Mode=OneWay}" />
                        <TextBlock x:Name="FontAwesomeBrandsGlyphTextBlock"
                                   Grid.RowSpan="2"
                                   x:Load="{x:Bind IsFontAwesomeBrand, Mode=OneWay}"
                                   FontSize="{StaticResource FluentIconsTextBlockFontSize}"
                                   Style="{StaticResource FontAwesomeBrandsTextBlockStyle}"
                                   Text="{x:Bind IconUri, Mode=OneWay}" />
                        <Image x:Name="IconImage"
                               Grid.RowSpan="2"
                               Width="24"
                               Height="24"
                               x:Load="{x:Bind IsImage, Mode=OneWay}"
                               Source="{x:Bind IconUri, Mode=OneWay}" />
                        <TextBlock Grid.Column="1"
                                   HorizontalAlignment="Left"
                                   Style="{StaticResource SmoothItemTitleTextBlockStyle}"
                                   Text="{x:Bind Title, Mode=OneWay}" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="1"
                                   Style="{StaticResource SmoothCaptionTextBlockStyle}"
                                   Text="{x:Bind Description, Mode=OneWay}" />
                        <TextBlock Grid.RowSpan="2"
                                   Grid.Column="2"
                                   Style="{StaticResource FluentIconsItemTextBlockStyle}"
                                   Text="&#xE8A7;" />
                    </Grid>
                </Button>
            </DataTemplate>
        </ResourceDictionary>
    </ContentDialog.Resources>

    <Grid Margin="{ThemeResource ItemsContentDialogLayoutMargin}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Rectangle Margin="48,8,48,0"
                   Style="{StaticResource SmoothHorizontalSeparatorRectangleStyle}" />
        <TextBlock x:Name="DescriptionTextBlock"
                   Grid.Row="1"
                   Margin="32,12"
                   HorizontalAlignment="Center"
                   x:Load="{x:Bind HasDescription, Mode=OneWay}"
                   Style="{StaticResource SmoothRegularTextBlockStyle}"
                   Text="{x:Bind Description, Mode=OneWay}"
                   TextAlignment="Center"
                   TextWrapping="WrapWholeWords" />

        <ListView Grid.Row="2"
                  Margin="0,16"
                  Padding="0"
                  IsItemClickEnabled="False"
                  ItemTemplateSelector="{StaticResource ItemsContentDialogItemSelector}"
                  ItemsSource="{x:Bind Items, Mode=OneWay}"
                  SelectionMode="None">
            <ListView.ItemContainerTransitions>
                <TransitionCollection />
            </ListView.ItemContainerTransitions>
        </ListView>
        <Rectangle Grid.Row="3"
                   Margin="48,8"
                   VerticalAlignment="Top"
                   Style="{StaticResource SmoothHorizontalSeparatorRectangleStyle}" />
    </Grid>
</ContentDialog>